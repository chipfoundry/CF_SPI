{
    "info": {
        "name": "EF_SPI",
        "description": "SPI master controller with an APB interface",
        "repo": "https://github.com/efabless/EF_SPI",
        "owner": "Mohamed Shalan",
        "license": "APACHE 2.0",
        "author": "Mohamed Shalan",
        "email": "mshalan@efabless.com",
        "version": "v1.0.0",
        "date": "11-12-2023",
        "category": "digital",
        "tags": [
            "peripheral",
            "comm",
            "spi"
        ],
        "bus": [
            "APB"
        ],
        "type": "soft",
        "status": "verified",
        "cell_count": "2344",
        "width": "0.0",
        "height": "0.0",
        "technology": "n/a",
        "clock_freq_mhz": "50",
        "digital_supply_voltage": "n/a",
        "analog_supply_voltage": "n/a"
    },
    "parameters": [
        {
          "name": "DATA_WIDTH",
          "default": 16,
          "description": "The number of bits of data per transaction"
        },
        {
          "name": "NUM_PORTS",
          "default": 1,
          "description": "Number of data ports"
        },
        {
          "name": "CLK_DIVIDER_WIDTH",
          "default": 8,
          "description": "=Number of bits for the clock divider (used to generate spi clock from main clock)"
        },
        {
          "name": "SAMPLE_PHASE",
          "default": 0,
          "description": ""
        }
    ],
    "ports": [
        {
            "name": "clk", 
            "width": 1,
            "direction":"input"
        },
        {
            "name": "resetb", 
            "width": 1, 
            "direction":"input"
        },
        {
            "name": "CPOL", 
            "width": 1, 
            "direction":"input"
        },
        {
            "name": "CPHA", 
            "width": 1, 
            "direction":"input"
        },
        {
            "name": "clk_divider", 
            "width": "CLK_DIVIDER_WIDTH", 
            "direction":"input"
        },
        {
            "name": "go", 
            "width": 1, 
            "direction":"input"
        },
        {
            "name": "datai", 
            "width": "NUM_PORTS*DATA_WIDTH", 
            "direction":"input"
        },
        {
            "name": "datao", 
            "width": "NUM_PORTS*DATA_WIDTH", 
            "direction":"output"
        },
        {
            "name": "busy",
            "width": 1,
            "direction":"output"
        },
        {
            "name": "done",
            "width": 1,
            "direction":"output"
        },
        {
            "name": "dout",
            "width": "NUM_PORTS",
            "direction":"input"
        },
        {
            "name": "din",
            "width": "NUM_PORTS",
            "direction":"output"
        },
        {
            "name": "csb",
            "width": 1,
            "direction":"output"
        },
        {
            "name": "sclk",
            "width": 1,
            "direction":"output"
        }
    ],
    "external_interface": [
        {
            "name": "dout",
            "port": "dout",
            "width": "NUM_PORTS",
            "direction":"input"
        },
        {
            "name": "din",
            "port": "din",
            "width": "NUM_PORTS",
            "direction":"output"
        },
        {
            "name": "csb",
            "port": "csb",
            "width": 1,
            "direction":"output"
        },
        {
            "name": "sclk",
            "port": "sclk",
            "width": 1,
            "direction":"output"
        }
    ],
    "clock": {
        "name": "clk"
    },
    "reset": {
        "name": "resetb",
        "level": 0
    },
    "registers": [
        
        {
            "name": "DATA",
            "size": 8,
            "mode": "w",
            "fifo": "no",
            "offset": 0,
            "bit_access": "no",
            "write_port": "",
            "description": "Data transmitted and received"
        },
        {
            "name": "CFG",
            "size": 2,
            "mode": "w",
            "fifo": "no",
            "offset": 8,
            "bit_access": "no",
            "write_port": "",
            "description": "",
            "fields": [
                {
                  "name": "cpol",
                  "bit_offset": 0,
                  "bit_width": 1,
                  "write_port": "",
                  "description": ""
                },
                {
                    "name": "cpha",
                    "bit_offset": 1,
                    "bit_width": 1,
                    "write_port": "",
                    "description": ""
                  }
            ]
        },
        {
            "name": "STATUS",
            "size": 1,
            "mode": "r",
            "fifo": "no",
            "offset": 16,
            "bit_access": "no",
            "read_port": "",
            "description": ""
        },
        {
            "name": "CTRL",
            "size": 2,
            "mode": "w",
            "fifo": "no",
            "offset": 24,
            "bit_access": "no",
            "write_port": "",
            "description": "",
            "fields": [
                {
                  "name": "start",
                  "bit_offset": 0,
                  "bit_width": 1,
                  "write_port": "",
                  "description": ""
                },
                {
                    "name": "SSn",
                    "bit_offset": 1,
                    "bit_width": 1,
                    "write_port": "",
                    "description": ""
                  }
            ]
        },
        {
            "name": "PR",
            "size": 16,
            "mode": "w",
            "fifo": "no",
            "offset": 32,
            "bit_access": "no",
            "write_port": "",
            "description": "SCK PRESCALER"
        }
        
      
    ],
    "flags":[]
}
